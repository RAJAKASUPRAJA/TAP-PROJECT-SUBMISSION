{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../../api';\nexport const login = createAsyncThunk('auth/login', async (cred, thunkAPI) => {\n  const res = await api.post('/auth/login', cred);\n  localStorage.setItem('token', res.data.token);\n  return res.data.user;\n});\nexport const register = createAsyncThunk('auth/register', async data => {\n  const res = await api.post('/auth/register', data);\n  localStorage.setItem('token', res.data.token);\n  return res.data.user;\n});\nconst slice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: null,\n    loading: false\n  },\n  reducers: {\n    logout: s => {\n      s.user = null;\n      localStorage.removeItem('token');\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(login.fulfilled, (s, act) => {\n      s.user = act.payload;\n    });\n    builder.addCase(register.fulfilled, (s, act) => {\n      s.user = act.payload;\n    });\n  }\n});\nexport const {\n  logout\n} = slice.actions;\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","login","cred","thunkAPI","res","post","localStorage","setItem","data","token","user","register","slice","name","initialState","loading","reducers","logout","s","removeItem","extraReducers","builder","addCase","fulfilled","act","payload","actions","reducer"],"sources":["C:/Users/Lalitha/Desktop/TAP/attendance_complete/frontend/src/redux/slices/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../../api';\nexport const login = createAsyncThunk('auth/login', async (cred, thunkAPI)=>{\n  const res = await api.post('/auth/login', cred);\n  localStorage.setItem('token', res.data.token);\n  return res.data.user;\n});\nexport const register = createAsyncThunk('auth/register', async (data)=>{\n  const res = await api.post('/auth/register', data);\n  localStorage.setItem('token', res.data.token);\n  return res.data.user;\n});\nconst slice = createSlice({\n  name:'auth', initialState:{ user:null, loading:false }, reducers:{ logout:(s)=>{ s.user=null; localStorage.removeItem('token'); } },\n  extraReducers: builder => {\n    builder.addCase(login.fulfilled,(s,act)=>{ s.user=act.payload; });\n    builder.addCase(register.fulfilled,(s,act)=>{ s.user=act.payload; });\n  }\n});\nexport const { logout } = slice.actions; export default slice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAO,MAAMC,KAAK,GAAGF,gBAAgB,CAAC,YAAY,EAAE,OAAOG,IAAI,EAAEC,QAAQ,KAAG;EAC1E,MAAMC,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,aAAa,EAAEH,IAAI,CAAC;EAC/CI,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,GAAG,CAACI,IAAI,CAACC,KAAK,CAAC;EAC7C,OAAOL,GAAG,CAACI,IAAI,CAACE,IAAI;AACtB,CAAC,CAAC;AACF,OAAO,MAAMC,QAAQ,GAAGZ,gBAAgB,CAAC,eAAe,EAAE,MAAOS,IAAI,IAAG;EACtE,MAAMJ,GAAG,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,gBAAgB,EAAEG,IAAI,CAAC;EAClDF,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,GAAG,CAACI,IAAI,CAACC,KAAK,CAAC;EAC7C,OAAOL,GAAG,CAACI,IAAI,CAACE,IAAI;AACtB,CAAC,CAAC;AACF,MAAME,KAAK,GAAGd,WAAW,CAAC;EACxBe,IAAI,EAAC,MAAM;EAAEC,YAAY,EAAC;IAAEJ,IAAI,EAAC,IAAI;IAAEK,OAAO,EAAC;EAAM,CAAC;EAAEC,QAAQ,EAAC;IAAEC,MAAM,EAAEC,CAAC,IAAG;MAAEA,CAAC,CAACR,IAAI,GAAC,IAAI;MAAEJ,YAAY,CAACa,UAAU,CAAC,OAAO,CAAC;IAAE;EAAE,CAAC;EACnIC,aAAa,EAAEC,OAAO,IAAI;IACxBA,OAAO,CAACC,OAAO,CAACrB,KAAK,CAACsB,SAAS,EAAC,CAACL,CAAC,EAACM,GAAG,KAAG;MAAEN,CAAC,CAACR,IAAI,GAACc,GAAG,CAACC,OAAO;IAAE,CAAC,CAAC;IACjEJ,OAAO,CAACC,OAAO,CAACX,QAAQ,CAACY,SAAS,EAAC,CAACL,CAAC,EAACM,GAAG,KAAG;MAAEN,CAAC,CAACR,IAAI,GAACc,GAAG,CAACC,OAAO;IAAE,CAAC,CAAC;EACtE;AACF,CAAC,CAAC;AACF,OAAO,MAAM;EAAER;AAAO,CAAC,GAAGL,KAAK,CAACc,OAAO;AAAE,eAAed,KAAK,CAACe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}