{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../../api';\nexport const fetchMyHistory = createAsyncThunk('attendance/history', async () => {\n  const res = await api.get('/attendance/my-history');\n  return res.data.list;\n});\nexport const checkIn = createAsyncThunk('attendance/checkin', async () => {\n  const res = await api.post('/attendance/checkin');\n  return res.data.attendance;\n});\nexport const checkOut = createAsyncThunk('attendance/checkout', async () => {\n  const res = await api.post('/attendance/checkout');\n  return res.data.attendance;\n});\nconst slice = createSlice({\n  name: 'attendance',\n  initialState: {\n    history: [],\n    today: null\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchMyHistory.fulfilled, (s, act) => {\n      s.history = act.payload;\n    });\n    builder.addCase(checkIn.fulfilled, (s, act) => {\n      s.today = act.payload;\n    });\n    builder.addCase(checkOut.fulfilled, (s, act) => {\n      s.today = act.payload;\n    });\n  }\n});\nexport default slice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","fetchMyHistory","res","get","data","list","checkIn","post","attendance","checkOut","slice","name","initialState","history","today","reducers","extraReducers","builder","addCase","fulfilled","s","act","payload","reducer"],"sources":["C:/Users/Lalitha/Desktop/TAP/attendance_complete/frontend/src/redux/slices/attendanceSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../../api';\nexport const fetchMyHistory = createAsyncThunk('attendance/history', async ()=> {\n  const res = await api.get('/attendance/my-history'); return res.data.list;\n});\nexport const checkIn = createAsyncThunk('attendance/checkin', async ()=> { const res = await api.post('/attendance/checkin'); return res.data.attendance; });\nexport const checkOut = createAsyncThunk('attendance/checkout', async ()=> { const res = await api.post('/attendance/checkout'); return res.data.attendance; });\nconst slice = createSlice({ name:'attendance', initialState:{ history:[], today:null }, reducers:{}, extraReducers: builder => {\n  builder.addCase(fetchMyHistory.fulfilled,(s,act)=>{ s.history=act.payload; });\n  builder.addCase(checkIn.fulfilled,(s,act)=>{ s.today=act.payload; });\n  builder.addCase(checkOut.fulfilled,(s,act)=>{ s.today=act.payload; });\n}});\nexport default slice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAO,MAAMC,cAAc,GAAGF,gBAAgB,CAAC,oBAAoB,EAAE,YAAW;EAC9E,MAAMG,GAAG,GAAG,MAAMF,GAAG,CAACG,GAAG,CAAC,wBAAwB,CAAC;EAAE,OAAOD,GAAG,CAACE,IAAI,CAACC,IAAI;AAC3E,CAAC,CAAC;AACF,OAAO,MAAMC,OAAO,GAAGP,gBAAgB,CAAC,oBAAoB,EAAE,YAAW;EAAE,MAAMG,GAAG,GAAG,MAAMF,GAAG,CAACO,IAAI,CAAC,qBAAqB,CAAC;EAAE,OAAOL,GAAG,CAACE,IAAI,CAACI,UAAU;AAAE,CAAC,CAAC;AAC5J,OAAO,MAAMC,QAAQ,GAAGV,gBAAgB,CAAC,qBAAqB,EAAE,YAAW;EAAE,MAAMG,GAAG,GAAG,MAAMF,GAAG,CAACO,IAAI,CAAC,sBAAsB,CAAC;EAAE,OAAOL,GAAG,CAACE,IAAI,CAACI,UAAU;AAAE,CAAC,CAAC;AAC/J,MAAME,KAAK,GAAGZ,WAAW,CAAC;EAAEa,IAAI,EAAC,YAAY;EAAEC,YAAY,EAAC;IAAEC,OAAO,EAAC,EAAE;IAAEC,KAAK,EAAC;EAAK,CAAC;EAAEC,QAAQ,EAAC,CAAC,CAAC;EAAEC,aAAa,EAAEC,OAAO,IAAI;IAC7HA,OAAO,CAACC,OAAO,CAACjB,cAAc,CAACkB,SAAS,EAAC,CAACC,CAAC,EAACC,GAAG,KAAG;MAAED,CAAC,CAACP,OAAO,GAACQ,GAAG,CAACC,OAAO;IAAE,CAAC,CAAC;IAC7EL,OAAO,CAACC,OAAO,CAACZ,OAAO,CAACa,SAAS,EAAC,CAACC,CAAC,EAACC,GAAG,KAAG;MAAED,CAAC,CAACN,KAAK,GAACO,GAAG,CAACC,OAAO;IAAE,CAAC,CAAC;IACpEL,OAAO,CAACC,OAAO,CAACT,QAAQ,CAACU,SAAS,EAAC,CAACC,CAAC,EAACC,GAAG,KAAG;MAAED,CAAC,CAACN,KAAK,GAACO,GAAG,CAACC,OAAO;IAAE,CAAC,CAAC;EACvE;AAAC,CAAC,CAAC;AACH,eAAeZ,KAAK,CAACa,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}